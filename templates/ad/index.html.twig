{% extends 'base.html.twig' %}

{% block title %}Nos magnifiques annonces{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="container">
    <h1 class="my-3">Voici les annonces de nos hotes</h1>

    <div class="row">
    {% for ad in ads %}
    
    {# declarer une variable 'url' qui va contenir le chemin pour ne pas a avoir reecrire tout le chemin entier plusieur fois #}
    {% set url = path('ads_show',{'slug':ad.slug}) %}
<div class="col-md-4">
            <div class="card bg-light mb-3">
                <div class="card-hearder text-center">
                {{ad.rooms}}, <strong>{{ad.price}}&euro; / nuit </strong><br>
                <small>pas encore not√©</small>
                </div>
                {# envoyer le slug en paramettre de l'url (voir adController.php @ROUTE L-27) #}
                <a href="{{ url }}">
                <img src="{{ad.coverImage}}" alt="" style="height:200px; width:100%; display:block">
                </a>
                    <div class="card-body">
                        <h4 class="card-title"> <a href="{{ url }}">
                        {{ad.title}} 
                        </a></h4>
                        <p class="card-text">{{ad.content}}
                        </p>
                        <a class="btn btn-secondary btn-lg" href="{{ url }}" role="button">En savoir plus</a>
                      </div>

            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
